# HustleXP Onboarding Flow Specification

**STATUS: CONSTITUTIONAL AUTHORITY**
**Owner:** Product/Design Team
**Last Updated:** January 2025
**Version:** v1.0.0
**Governance:** Onboarding UX must follow this spec. References ONBOARDING_SPEC.md for business logic.

---

## Table of Contents

1. [Overview](#1-overview)
2. [Onboarding Phases](#2-onboarding-phases)
3. [Screen-by-Screen Specification](#3-screen-by-screen-specification)
4. [First Task Guided Walkthrough](#4-first-task-guided-walkthrough)
5. [Permission Request Flows](#5-permission-request-flows)
6. [Progress Indicators](#6-progress-indicators)
7. [Gamification Unlock Moment](#7-gamification-unlock-moment)
8. [Error Handling](#8-error-handling)
9. [Invariants](#9-invariants)

---

## 1. Overview

### Onboarding Philosophy

HustleXP onboarding follows the **Duolingo model**: short, gamified, progress-driven, but with **Apple Glass restraint** during the actual flow.

> **Core Principle:** Onboarding sets expectations. Premature rewards teach users to expect unearned dopamine. Therefore: **zero celebration until first economic truth (RELEASED escrow).**

### Key Metrics

| Metric | Target | Measurement |
|--------|--------|-------------|
| **Time to First Screen** | < 3 seconds | App launch to welcome |
| **Steps to Role Lock** | 5-7 taps | Welcome โ Role confirmed |
| **Time to First Task** | < 2 minutes | Role lock โ First task posted/browsed |
| **First Task Completion Rate** | > 70% | Users who complete onboarding AND first task |

### Visual Rules During Onboarding

Per UI_SPEC.md ยง12 (Onboarding Visual Rules):

| Element | Allowed | Rationale |
|---------|---------|-----------|
| XP colors | No | Nothing earned yet |
| Money colors | No | No transactions yet |
| Celebrations | No | Nothing to celebrate |
| Badges | No | None unlocked |
| Animation | Minimal | Professional tone |
| Progress bar | Yes | Shows completion |

---

## 2. Onboarding Phases

### Phase Overview

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  PHASE 0        PHASE 1         PHASE 2         PHASE 3         PHASE 4 โ
โ  Welcome    โ   Calibration  โ  Verification โ  Role Lock   โ   First   โ
โ  (1 screen)     (3 screens)     (optional)      (1 screen)      Task    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Phase Details

| Phase | Purpose | Screens | Skippable |
|-------|---------|---------|-----------|
| **0: Welcome** | Hook + value prop | 1 | No |
| **1: Calibration** | Determine role intent | 3 | No |
| **2: Verification** | ID/Background (if required) | 1-2 | Depends on role |
| **3: Role Lock** | Confirm role selection | 1 | No |
| **4: First Task** | Guided walkthrough | 3-5 | No |

---

## 3. Screen-by-Screen Specification

### Phase 0: Welcome Screen

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                 โ
โ                                                                 โ
โ                        [HustleXP Logo]                         โ
โ                                                                 โ
โ                                                                 โ
โ                  Get things done. Get paid.                    โ
โ                                                                 โ
โ                                                                 โ
โ          Post tasks and find help in minutes.                  โ
โ          Or earn money completing tasks nearby.                โ
โ                                                                 โ
โ                                                                 โ
โ                                                                 โ
โ                                                                 โ
โ                   [ Get Started ]                              โ
โ                                                                 โ
โ                                                                 โ
โ              Already have an account? Sign in                   โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Specifications:**
- **Background:** Neutral white or subtle gradient (no brand gradient)
- **Animation:** Logo fade-in only (300ms)
- **Copy:** Clear, direct, no fluff
- **CTA:** Single primary button
- **Link:** Secondary text link for sign-in

### Phase 1: Calibration Screens

#### Screen 1.1: What brings you here?

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Back                                     1 of 3             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                                                                 โ
โ               What brings you to HustleXP?                     โ
โ                                                                 โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  ๐ค  I need help getting things done                      โ โ
โ  โ      Post tasks and hire local help                       โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  ๐ฐ  I want to earn money                                 โ โ
โ  โ      Complete tasks and get paid                          โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  ๐  Both - I want to do both                             โ โ
โ  โ      Post tasks and complete tasks                        โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Specifications:**
- **Selection:** Single-select radio cards
- **Progress:** Thin bar at top (1/3)
- **Transition:** Tap selection โ 150ms fade โ Next screen
- **Animation:** Cards fade in staggered (50ms delay each)

#### Screen 1.2: Location Access

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Back                                     2 of 3             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                                                                 โ
โ                       [Map Icon]                               โ
โ                                                                 โ
โ              Where are you looking for tasks?                  โ
โ                                                                 โ
โ                                                                 โ
โ     We use your location to show relevant tasks nearby.        โ
โ     Your exact location is never shared with others.           โ
โ                                                                 โ
โ                                                                 โ
โ                                                                 โ
โ                   [ Enable Location ]                          โ
โ                                                                 โ
โ                    Maybe later                                  โ
โ                                                                 โ
โ                                                                 โ
โ     ๐ Privacy: We only access location when the app          โ
โ        is open. You can change this anytime.                   โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Specifications:**
- **Icon:** Simple map pin, not animated
- **Copy:** Explains value + privacy in plain language
- **CTA:** Primary button triggers system permission dialog
- **Secondary:** "Maybe later" is text link, doesn't block progress
- **Privacy note:** Always visible, builds trust

#### Screen 1.3: Notification Permission

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Back                                     3 of 3             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                                                                 โ
โ                       [Bell Icon]                              โ
โ                                                                 โ
โ               Never miss an opportunity                        โ
โ                                                                 โ
โ                                                                 โ
โ     We'll notify you when:                                     โ
โ                                                                 โ
โ     โ A task nearby matches your skills                        โ
โ     โ Someone accepts your posted task                         โ
โ     โ You receive a payment                                    โ
โ                                                                 โ
โ                                                                 โ
โ                   [ Enable Notifications ]                     โ
โ                                                                 โ
โ                    Not now                                      โ
โ                                                                 โ
โ                                                                 โ
โ     You can customize notification types in Settings.          โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Specifications:**
- **Icon:** Simple bell, not animated
- **Copy:** Concrete examples of when notifications fire
- **CTA:** Primary button triggers system permission dialog
- **Secondary:** "Not now" is text link, doesn't block progress

### Phase 2: Verification (Conditional)

Only shown if role requires verification (Hustler or Dual).

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Back                                                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                                                                 โ
โ                       [Shield Icon]                            โ
โ                                                                 โ
โ                  Verify your identity                          โ
โ                                                                 โ
โ                                                                 โ
โ     To complete tasks and receive payments, we need to         โ
โ     verify your identity. This takes about 2 minutes.          โ
โ                                                                 โ
โ                                                                 โ
โ     You'll need:                                                โ
โ     โ A valid government ID (driver's license or passport)     โ
โ     โ A selfie for face matching                               โ
โ                                                                 โ
โ                                                                 โ
โ                   [ Start Verification ]                       โ
โ                                                                 โ
โ                    I'll do this later                           โ
โ                                                                 โ
โ                                                                 โ
โ     ๐ Your data is encrypted and only used for verification.  โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Specifications:**
- **Skip allowed:** Yes, but limits task acceptance
- **Provider:** Stripe Identity or similar
- **Time estimate:** Accurate ("about 2 minutes")
- **Requirements:** Listed clearly before starting

### Phase 3: Role Lock Confirmation

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Back                                                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                                                                 โ
โ                                                                 โ
โ                   You're set up as a                           โ
โ                                                                 โ
โ                        HUSTLER                                 โ
โ                  (Task Completer)                              โ
โ                                                                 โ
โ                                                                 โ
โ     You can:                                                   โ
โ     โ Browse and accept tasks nearby                           โ
โ     โ Earn money for completed tasks                           โ
โ     โ Build your reputation and unlock badges                  โ
โ                                                                 โ
โ                                                                 โ
โ                                                                 โ
โ                   [ Let's Go ]                                  โ
โ                                                                 โ
โ             [ Change to Poster or Both ]                       โ
โ                                                                 โ
โ                                                                 โ
โ     You can switch roles anytime in Settings.                  โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Specifications:**
- **Role display:** Large, clear text
- **Capabilities:** Bullet list of what they can do
- **Animation:** None (this is a confirmation, not a celebration)
- **Equal weight:** Both CTAs have equal visual weight
- **Note:** Role can be changed later

---

## 4. First Task Guided Walkthrough

### For Hustlers: First Task Discovery

#### Step 4.1: Task Feed Introduction

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  Step 1 of 3: Find Your First Task                            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  SPOTLIGHT OVERLAY                                      โ   โ
โ  โ  โ pointing to task card                                โ   โ
โ  โ                                                         โ   โ
โ  โ  This is a task card                                    โ   โ
โ  โ                                                         โ   โ
โ  โ  Each card shows:                                       โ   โ
โ  โ  โข What needs to be done                                โ   โ
โ  โ  โข How much you'll earn                                 โ   โ
โ  โ  โข How far away it is                                   โ   โ
โ  โ                                                         โ   โ
โ  โ  Tap a card to see more details.                        โ   โ
โ  โ                                                         โ   โ
โ  โ  [ Got It ]                                             โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  Help moving furniture              ๐ฐ $35              โ   โ
โ  โ  Sarah K. โข 0.8 mi โข Escrow funded                      โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Specifications:**
- **Overlay style:** Semi-transparent dark with spotlight cutout
- **Progress:** Thin bar showing 1/3
- **Pointer:** Subtle arrow pointing to highlighted element
- **Dismiss:** "Got It" button advances to next step

#### Step 4.2: Task Detail Introduction

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  Step 2 of 3: Review Task Details                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  SPOTLIGHT on escrow indicator                          โ   โ
โ  โ                                                         โ   โ
โ  โ  โ Escrow funded                                       โ   โ
โ  โ                                                         โ   โ
โ  โ  This means the poster has already deposited            โ   โ
โ  โ  the payment. You're guaranteed to be paid              โ   โ
โ  โ  when you complete the task.                            โ   โ
โ  โ                                                         โ   โ
โ  โ  [ Got It ]                                             โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                 โ
โ  Help moving furniture                                          โ
โ  Sarah K. โข VERIFIED                                            โ
โ                                                                 โ
โ  ๐ฐ $35.00 (you receive ~$29.75)                               โ
โ  ๐ 0.8 miles away                                              โ
โ  โ Escrow: FUNDED โ SPOTLIGHT HERE                            โ
โ                                                                 โ
โ  [ Accept Task ]                                                โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### Step 4.3: Accept Your First Task

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  Step 3 of 3: Accept a Task                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  SPOTLIGHT on Accept button                             โ   โ
โ  โ                                                         โ   โ
โ  โ  Ready to go?                                           โ   โ
โ  โ                                                         โ   โ
โ  โ  Tap "Accept Task" to claim this job.                   โ   โ
โ  โ  You'll be connected with the poster                    โ   โ
โ  โ  and can start right away.                              โ   โ
โ  โ                                                         โ   โ
โ  โ  [ Accept Task ] โ Tap to continue                      โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                 โ
โ  Help moving furniture                                          โ
โ  Sarah K. โข VERIFIED                                            โ
โ                                                                 โ
โ  ๐ฐ $35.00 (you receive ~$29.75)                               โ
โ  ๐ 0.8 miles away                                              โ
โ  โ Escrow: FUNDED                                             โ
โ                                                                 โ
โ  [ Accept Task ] โ SPOTLIGHT HERE                              โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### For Posters: First Task Creation

#### Step 4.1: Post Task Introduction

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  Step 1 of 3: Post Your First Task                            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  SPOTLIGHT on Post Task button                          โ   โ
โ  โ                                                         โ   โ
โ  โ  Let's post your first task                             โ   โ
โ  โ                                                         โ   โ
โ  โ  Describe what you need done, set a price,              โ   โ
โ  โ  and we'll connect you with help nearby.                โ   โ
โ  โ                                                         โ   โ
โ  โ  [ Post a Task ] โ Tap to continue                      โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                           โ โ
โ  โ             No tasks posted yet                           โ โ
โ  โ                                                           โ โ
โ  โ             [ Post a Task ] โ SPOTLIGHT                   โ โ
โ  โ                                                           โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 5. Permission Request Flows

### Permission Request Pattern

All permission requests follow this pattern:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                 โ
โ                        [Relevant Icon]                         โ
โ                                                                 โ
โ                   [Clear benefit headline]                     โ
โ                                                                 โ
โ     [Explanation of why we need this]                          โ
โ     [How it helps the user specifically]                       โ
โ                                                                 โ
โ     [Privacy assurance in plain language]                      โ
โ                                                                 โ
โ                   [ Enable {Permission} ]                      โ
โ                                                                 โ
โ                    {Skip option}                                โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Permission Types

| Permission | When Asked | Can Skip | Impact if Skipped |
|------------|------------|----------|-------------------|
| **Location** | Phase 1 | Yes | Limited task visibility |
| **Notifications** | Phase 1 | Yes | No alerts for tasks/payments |
| **Camera** | During proof submission | Yes | Cannot submit photo proofs |
| **Photo Library** | During proof submission | Yes | Cannot upload existing photos |

### Re-prompt Pattern

If permission was denied, show contextual re-prompt when needed:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                 โ
โ  To show tasks near you, we need location access.              โ
โ                                                                 โ
โ  [ Open Settings ]    [ Browse All Tasks ]                     โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 6. Progress Indicators

### Progress Bar Style

```typescript
const OnboardingProgress = {
  height: 4,
  backgroundColor: colors.neutral[200],
  fillColor: colors.primary[500],
  borderRadius: radius.full,
  animation: {
    duration: 150,
    easing: easing.decelerate,
  },
};
```

### Progress Calculation

| Phase | Progress | Screens |
|-------|----------|---------|
| Phase 0: Welcome | 0% | 1 |
| Phase 1: Calibration | 10-30% | 3 |
| Phase 2: Verification | 40-50% | 1-2 |
| Phase 3: Role Lock | 60% | 1 |
| Phase 4: First Task | 70-100% | 3-5 |

### Step Indicator

For multi-step phases, show "X of Y" text:

```
โ Back                                     2 of 3
```

---

## 7. Gamification Unlock Moment

### When Gamification Unlocks

Per UI_SPEC.md ยง2.4 and ONBOARDING_SPEC.md:

> Gamification (Layer 3) unlocks **only after first RELEASED escrow**.

### Pre-Unlock State (Hustler Dashboard)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  HOME                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  ๐ XP: 0                                               โ   โ
โ  โ     Level 1 โข Locked                                    โ   โ
โ  โ     โโโโโโโโโโโโโโโโโโโโ                                โ   โ
โ  โ                                                         โ   โ
โ  โ     Complete your first task to unlock XP & badges      โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                 โ
โ  AVAILABLE TASKS                                                โ
โ  ...                                                            โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### First Completion Celebration (Single-Use)

When first escrow is RELEASED:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                 โ
โ                                                                 โ
โ                                                                 โ
โ                    First Task Complete!                        โ
โ                                                                 โ
โ                                                                 โ
โ                        +25 XP                                  โ
โ                    โโโโโโโโโโโโโโโโโโ                          โ
โ                                                                 โ
โ                                                                 โ
โ              You've unlocked the XP system!                    โ
โ              Complete more tasks to level up.                  โ
โ                                                                 โ
โ                                                                 โ
โ                   [ Continue ]                                  โ
โ                                                                 โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Animation Sequence (per UI_SPEC.md ยง12.4):**

| Time | Element |
|------|---------|
| 0-300ms | XP number fade in + scale 1.0โ1.1โ1.0 |
| 300-800ms | Progress bar linear fill |
| 800-1200ms | "First Task Complete!" fade in |
| 1200-1800ms | Badge unlock (if earned) |
| 1800-2000ms | Settle to static |

**Constraints:**
- No confetti (forbidden per UI_SPEC.md M2)
- Single sound effect (see SOUND_DESIGN.md)
- Single haptic pulse
- Server-tracked: `xp_first_celebration_shown_at`
- **Never replays** (even on reinstall)

---

## 8. Error Handling

### Validation Errors

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                 โ
โ  Task description                                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  Help with                                                โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ๏ธ Task description must be at least 10 characters           โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Specifications:**
- **Timing:** Show on blur, not on every keystroke
- **Position:** Directly below the input
- **Color:** Warning amber, not error red (less harsh)
- **Icon:** Warning icon, not X (less punitive)

### Network Errors

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                 โ
โ                       [Cloud-off Icon]                         โ
โ                                                                 โ
โ                 Couldn't connect to server                     โ
โ                                                                 โ
โ     Check your internet connection and try again.              โ
โ                                                                 โ
โ                   [ Try Again ]                                 โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Verification Failed

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                 โ
โ                       [Alert Icon]                             โ
โ                                                                 โ
โ              Verification couldn't be completed                โ
โ                                                                 โ
โ     WHAT HAPPENED                                              โ
โ     The photo of your ID wasn't clear enough.                  โ
โ                                                                 โ
โ     WHAT YOU CAN DO                                            โ
โ     โข Take a new photo in good lighting                        โ
โ     โข Make sure all text is readable                           โ
โ     โข Avoid glare and shadows                                  โ
โ                                                                 โ
โ                   [ Try Again ]                                 โ
โ                    Skip for now                                 โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 9. Invariants

### Onboarding Invariants

| ID | Invariant | Enforcement |
|----|-----------|-------------|
| **ONB-UI-1** | No XP colors during onboarding (Phase 0-3) | UI component guard |
| **ONB-UI-2** | No celebrations until Phase 4 completion | Animation guard |
| **ONB-UI-3** | Progress bar always visible (Phase 1+) | UI layout |
| **ONB-UI-4** | Back button always available (except Phase 0) | Navigation guard |
| **ONB-UI-5** | Skip options don't block progress | Flow logic |
| **ONB-UI-6** | First celebration plays exactly once | Server flag check |
| **ONB-UI-7** | Guided walkthrough cannot be dismissed until complete | UI state |

### ESLint Rules

```typescript
// no-xp-during-onboarding
// Error: XP-related components forbidden during onboarding phases

// no-celebration-before-unlock
// Error: Celebration animations forbidden before first RELEASED escrow

// require-onboarding-progress
// Error: Onboarding screens must include progress indicator
```

---

## Mock Data for Onboarding

### First Task (Demo/Seed)

```typescript
const ONBOARDING_DEMO_TASK = {
  id: 'onboarding-demo-001',
  title: 'Help moving furniture',
  description: 'Need help moving a couch from my apartment to a storage unit. About 30 minutes of work.',
  price: 35.00,
  poster: {
    name: 'Sarah K.',
    trust_tier: 2, // VERIFIED
    tasks_posted: 12,
    disputes: 0,
  },
  escrow_state: 'FUNDED',
  location: {
    distance_miles: 0.8,
    city: 'Your City', // Dynamic based on user location
  },
};
```

---

## 10. Role-Specific Onboarding Content

### 10.1 Poster vs Hustler Messaging

Both roles go through the same phases, but messaging differs:

| Phase | Hustler Content | Poster Content |
|-------|-----------------|----------------|
| **Welcome** | "Get paid for tasks nearby" | "Get things done in minutes" |
| **Calibration** | "Earn money your way" | "Hire help your way" |
| **Verification** | Required for earning | Not required |
| **Role Lock** | "You're ready to earn!" | "You're ready to post!" |
| **First Action** | Browse/accept tasks | Post first task |

### 10.2 Poster Onboarding Flow (Full)

#### Phase 1.1: What brings you here? (Poster Path)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Back                                     1 of 3             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                                                                 โ
โ               What brings you to HustleXP?                     โ
โ                                                                 โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  โ  I need help getting things done              SELECTED โ โ
โ  โ      Post tasks and hire local help                       โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โ                         โ                                       โ
โ                                                                 โ
โ  What kinds of tasks do you need help with?                    โ
โ                                                                 โ
โ  [ ] Moving & delivery                                          โ
โ  [ ] Cleaning                                                   โ
โ  [ ] Errands & shopping                                         โ
โ  [ ] Assembly & repairs                                         โ
โ  [ ] Other                                                      โ
โ                                                                 โ
โ                   [ Continue ]                                  โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### Phase 1.2: Payment Setup (Poster Only)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Back                                     2 of 3             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                                                                 โ
โ                       [Card Icon]                              โ
โ                                                                 โ
โ                  Add a payment method                          โ
โ                                                                 โ
โ                                                                 โ
โ     To post tasks, you'll need a payment method on file.       โ
โ     Payments are held in escrow until tasks are complete.      โ
โ                                                                 โ
โ                                                                 โ
โ     ๐ Your payment info is secured with bank-level            โ
โ        encryption. We never see your full card number.         โ
โ                                                                 โ
โ                                                                 โ
โ                   [ Add Payment Method ]                       โ
โ                                                                 โ
โ                    I'll do this later                           โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Note:** Poster can skip payment setup during onboarding but will be prompted when posting first task.

#### Phase 3: Role Lock (Poster Version)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Back                                                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                                                                 โ
โ                                                                 โ
โ                   You're set up as a                           โ
โ                                                                 โ
โ                        POSTER                                  โ
โ                  (Task Creator)                                โ
โ                                                                 โ
โ                                                                 โ
โ     You can:                                                   โ
โ     โ Post tasks and get help nearby                           โ
โ     โ Pay securely through escrow                              โ
โ     โ Rate and review hustlers                                 โ
โ                                                                 โ
โ                                                                 โ
โ                                                                 โ
โ                   [ Let's Go ]                                  โ
โ                                                                 โ
โ             [ Change to Hustler or Both ]                      โ
โ                                                                 โ
โ                                                                 โ
โ     You can switch roles anytime in Settings.                  โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### Phase 4: First Task Creation (Poster Walkthrough)

**Step 1: Empty State**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  Step 1 of 3: Post Your First Task                            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  SPOTLIGHT                                              โ   โ
โ  โ                                                         โ   โ
โ  โ  Post your first task                                   โ   โ
โ  โ                                                         โ   โ
โ  โ  Describe what you need, set a price, and              โ   โ
โ  โ  we'll connect you with trusted help nearby.            โ   โ
โ  โ                                                         โ   โ
โ  โ  [ Post a Task ]                                        โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                 โ
โ                                                                 โ
โ  YOUR TASKS                                                     โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                           โ โ
โ  โ             No tasks yet                                  โ โ
โ  โ             Post a task to get started                    โ โ
โ  โ                                                           โ โ
โ  โ             [ + Post a Task ] โ SPOTLIGHT                 โ โ
โ  โ                                                           โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Step 2: Task Form**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  Step 2 of 3: Describe Your Task                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ  WHAT DO YOU NEED DONE?                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                           โ โ
โ  โ  โ SPOTLIGHT: "Be specific about what you need"          โ โ
โ  โ                                                           โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โ  SET A PRICE                                                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  $ [    ]                                                 โ โ
โ  โ                                                           โ โ
โ  โ  ๐ก AI suggests $25-40 for tasks like this               โ โ
โ  โ  โ SPOTLIGHT: "Set a fair price to attract help"         โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โ  ESCROW PROTECTION                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  ๐ Your payment is protected                             โ โ
โ  โ     Money is only released when you're satisfied          โ โ
โ  โ     โ SPOTLIGHT: "Your money is protected"                โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                 โ
โ                   [ Post Task ]                                 โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Step 3: Task Posted Confirmation**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  Step 3 of 3: You're All Set!                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                 โ
โ                          โ                                      โ
โ                                                                 โ
โ                   Task Posted!                                  โ
โ                                                                 โ
โ  Help moving furniture โข $35                                    โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                 โ
โ  WHAT HAPPENS NEXT                                              โ
โ                                                                 โ
โ  1. Hustlers nearby will see your task                          โ
โ  2. Someone will accept and head your way                       โ
โ  3. You'll be notified when they arrive                        โ
โ  4. Review their work and release payment                       โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                 โ
โ  We'll notify you when someone accepts.                        โ
โ  Average wait time: 5-15 minutes                               โ
โ                                                                 โ
โ                   [ Done ]                                      โ
โ                                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 10.3 Poster Onboarding Differences

| Aspect | Hustler | Poster |
|--------|---------|--------|
| **Verification required** | Yes (ID + selfie) | No |
| **Payment method** | Receive (bank/Stripe) | Pay (card) |
| **First action** | Accept a task | Post a task |
| **XP preview** | Yes ("+25 XP on completion") | No XP shown |
| **Gamification mention** | "Unlock badges and level up" | Not mentioned |
| **Trust tier preview** | Yes ("Start at ROOKIE") | Not shown |
| **Post-onboarding screen** | Task feed | Empty dashboard |

### 10.4 Poster Visual Rules During Onboarding

| Element | Allowed | Rationale |
|---------|---------|-----------|
| XP colors | **No** | Posters don't earn XP |
| Badge previews | **No** | Posters don't earn badges |
| Trust tier | **No** | Poster tiers not gamified |
| Escrow explanation | **Yes** | Critical for trust |
| Payment setup | **Yes** | Required functionality |
| AI suggestions | **Yes** | Helps with pricing |

### 10.5 Poster Onboarding Invariants

| ID | Invariant | Enforcement |
|----|-----------|-------------|
| **ONB-POSTER-1** | No XP mentions in Poster onboarding | Copy guard |
| **ONB-POSTER-2** | No badge mentions in Poster onboarding | Copy guard |
| **ONB-POSTER-3** | Escrow explanation must appear before payment | Flow guard |
| **ONB-POSTER-4** | Payment method skippable but prompted at first task | Flow logic |
| **ONB-POSTER-5** | No celebration animations for Poster | Animation guard |

---

## Cross-Reference

| Section | Reference |
|---------|-----------|
| Business Logic | ONBOARDING_SPEC.md |
| Poster UI Spec | POSTER_UI_SPEC.md |
| Hustler UI Spec | HUSTLER_UI_SPEC.md |
| Visual Rules | UI_SPEC.md ยง12 |
| Layered Hierarchy | UI_SPEC.md ยง2 |
| First XP Animation | UI_SPEC.md ยง12.4 |
| Sound Design | SOUND_DESIGN.md |
| Mock Data | mock-data/tasks.js |

---

**END OF ONBOARDING_FLOW.md v1.0.0**
